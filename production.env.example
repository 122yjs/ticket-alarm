# 티켓 알림 시스템 운영 환경 설정
# 이 파일을 복사하여 .env 파일로 만들고 실제 값으로 수정하세요

# =============================================================================
# 기본 애플리케이션 설정
# =============================================================================

# 환경 설정 (development, staging, production)
ENVIRONMENT=production

# 애플리케이션 디렉토리
APP_DIR=/opt/ticket-alarm

# 로그 디렉토리
LOG_DIR=/var/log/ticket-alarm

# 데이터 디렉토리
DATA_DIR=/opt/ticket-alarm/data

# 백업 디렉토리
BACKUP_DIR=/opt/backups/ticket-alarm

# =============================================================================
# 웹 서버 설정
# =============================================================================

# 웹 서버 포트
WEB_PORT=8000

# 웹 서버 호스트
WEB_HOST=0.0.0.0

# 워커 프로세스 수 (CPU 코어 수 * 2 + 1 권장)
WEB_WORKERS=5

# 워커 타임아웃 (초)
WEB_TIMEOUT=30

# =============================================================================
# 디스코드 설정
# =============================================================================

# 디스코드 웹훅 URL (필수)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# 디스코드 알림 지연 시간 (초)
DISCORD_NOTIFICATION_DELAY=2

# 사이클당 최대 알림 수
DISCORD_MAX_NOTIFICATIONS_PER_CYCLE=10

# 디스코드 요청 타임아웃 (초)
DISCORD_REQUEST_TIMEOUT=10

# 디스코드 재시도 횟수
DISCORD_RETRY_COUNT=3

# =============================================================================
# 크롤링 설정
# =============================================================================

# 크롤링 간격 (초)
CHECK_INTERVAL=300

# 크롤링 타임아웃 (초)
CRAWL_TIMEOUT=30

# 사용자 에이전트
USER_AGENT="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"

# 요청 간 지연 시간 (초)
REQUEST_DELAY=1

# 최대 재시도 횟수
MAX_RETRIES=3

# =============================================================================
# 모니터링 키워드
# =============================================================================

# 기본 키워드 (쉼표로 구분)
KEYWORDS="개발자,프로그래머,백엔드,프론트엔드,풀스택,Python,JavaScript,React,Node.js"

# 우선순위 키워드 (쉼표로 구분)
PRIORITY_KEYWORDS="시니어,리드,테크리드,CTO,개발팀장"

# 제외 키워드 (쉼표로 구분)
EXCLUDE_KEYWORDS="인턴,신입,경력무관"

# =============================================================================
# 데이터베이스 설정 (향후 확장용)
# =============================================================================

# 데이터베이스 타입 (sqlite, postgresql, mysql)
DB_TYPE=sqlite

# SQLite 데이터베이스 파일 경로
DB_SQLITE_PATH=/opt/ticket-alarm/data/tickets.db

# PostgreSQL 설정 (사용 시)
# DB_POSTGRESQL_HOST=localhost
# DB_POSTGRESQL_PORT=5432
# DB_POSTGRESQL_NAME=ticket_alarm
# DB_POSTGRESQL_USER=ticket_user
# DB_POSTGRESQL_PASSWORD=your_password

# MySQL 설정 (사용 시)
# DB_MYSQL_HOST=localhost
# DB_MYSQL_PORT=3306
# DB_MYSQL_NAME=ticket_alarm
# DB_MYSQL_USER=ticket_user
# DB_MYSQL_PASSWORD=your_password

# =============================================================================
# 로깅 설정
# =============================================================================

# 로그 레벨 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 로그 파일 최대 크기 (MB)
LOG_MAX_SIZE=10

# 로그 파일 백업 개수
LOG_BACKUP_COUNT=5

# 로그 포맷
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# 콘솔 로그 활성화
LOG_CONSOLE=true

# 파일 로그 활성화
LOG_FILE=true

# =============================================================================
# 보안 설정
# =============================================================================

# API 키 (향후 확장용)
# API_KEY=your_secret_api_key

# JWT 시크릿 키 (향후 확장용)
# JWT_SECRET=your_jwt_secret_key

# 암호화 키 (백업 암호화용)
# ENCRYPTION_KEY=your_encryption_key

# CORS 허용 도메인 (쉼표로 구분)
CORS_ORIGINS="http://localhost:3000,https://yourdomain.com"

# =============================================================================
# 성능 설정
# =============================================================================

# 최대 동시 크롤링 작업 수
MAX_CONCURRENT_CRAWLS=5

# 메모리 사용량 제한 (MB)
MEMORY_LIMIT=512

# CPU 사용량 제한 (%)
CPU_LIMIT=80

# 캐시 TTL (초)
CACHE_TTL=3600

# =============================================================================
# 알림 설정
# =============================================================================

# 이메일 알림 활성화 (향후 확장용)
EMAIL_ENABLED=false

# SMTP 서버 설정 (향후 확장용)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_TLS=true

# 슬랙 알림 활성화 (향후 확장용)
SLACK_ENABLED=false

# 슬랙 웹훅 URL (향후 확장용)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# 백업 설정
# =============================================================================

# 자동 백업 활성화
BACKUP_ENABLED=true

# 백업 간격 (시간)
BACKUP_INTERVAL=24

# 백업 보존 기간 (일)
BACKUP_RETENTION_DAILY=7
BACKUP_RETENTION_WEEKLY=30
BACKUP_RETENTION_MONTHLY=365

# 백업 압축 활성화
BACKUP_COMPRESSION=true

# 백업 암호화 활성화
BACKUP_ENCRYPTION=false

# 원격 백업 활성화
REMOTE_BACKUP_ENABLED=false

# 원격 백업 설정
# REMOTE_BACKUP_HOST=backup.yourdomain.com
# REMOTE_BACKUP_USER=backup_user
# REMOTE_BACKUP_PATH=/backups/ticket-alarm

# =============================================================================
# 모니터링 설정
# =============================================================================

# 헬스 체크 간격 (초)
HEALTH_CHECK_INTERVAL=60

# 메트릭 수집 활성화
METRICS_ENABLED=true

# 메트릭 보존 기간 (일)
METRICS_RETENTION=30

# 알림 임계값 설정
ALERT_CPU_THRESHOLD=90
ALERT_MEMORY_THRESHOLD=90
ALERT_DISK_THRESHOLD=85
ALERT_ERROR_RATE_THRESHOLD=5

# =============================================================================
# 개발/디버깅 설정
# =============================================================================

# 디버그 모드 (운영 환경에서는 false)
DEBUG=false

# 테스트 모드
TEST_MODE=false

# 프로파일링 활성화
PROFILING_ENABLED=false

# 상세 로깅 활성화
VERBOSE_LOGGING=false

# =============================================================================
# 외부 서비스 설정
# =============================================================================

# 프록시 설정 (필요한 경우)
# HTTP_PROXY=http://proxy.company.com:8080
# HTTPS_PROXY=https://proxy.company.com:8080
# NO_PROXY=localhost,127.0.0.1,.local

# DNS 서버 설정
# DNS_SERVERS=8.8.8.8,8.8.4.4

# =============================================================================
# 시스템 설정
# =============================================================================

# 시스템 사용자
SYSTEM_USER=www-data

# 시스템 그룹
SYSTEM_GROUP=www-data

# 파일 권한
FILE_PERMISSIONS=644

# 디렉토리 권한
DIR_PERMISSIONS=755

# PID 파일 경로
PID_FILE=/var/run/ticket-alarm.pid

# =============================================================================
# 크론탭 설정
# =============================================================================

# 백업 크론 스케줄 (매일 새벽 2시)
BACKUP_CRON_SCHEDULE="0 2 * * *"

# 로그 정리 크론 스케줄 (매주 일요일 새벽 3시)
LOG_CLEANUP_CRON_SCHEDULE="0 3 * * 0"

# 헬스 체크 크론 스케줄 (5분마다)
HEALTH_CHECK_CRON_SCHEDULE="*/5 * * * *"

# 메트릭 수집 크론 스케줄 (1분마다)
METRICS_CRON_SCHEDULE="* * * * *"

# =============================================================================
# 알림 메시지 템플릿
# =============================================================================

# 시스템 시작 메시지
START_MESSAGE="🚀 티켓 알림 시스템이 시작되었습니다."

# 시스템 중지 메시지
STOP_MESSAGE="⏹️ 티켓 알림 시스템이 중지되었습니다."

# 오류 메시지 템플릿
ERROR_MESSAGE_TEMPLATE="❌ 오류 발생: {error_type}\n시간: {timestamp}\n상세: {details}"

# 백업 완료 메시지
BACKUP_SUCCESS_MESSAGE="💾 백업이 완료되었습니다."

# 복원 완료 메시지
RESTORE_SUCCESS_MESSAGE="🔄 시스템 복원이 완료되었습니다."

# =============================================================================
# 기타 설정
# =============================================================================

# 타임존
TIMEZONE=Asia/Seoul

# 언어 설정
LANGUAGE=ko_KR.UTF-8

# 날짜 형식
DATE_FORMAT="%Y-%m-%d %H:%M:%S"

# 통화 형식 (급여 정보 파싱용)
CURRENCY_FORMAT=KRW

# 최대 파일 업로드 크기 (MB)
MAX_UPLOAD_SIZE=10

# 세션 타임아웃 (분)
SESSION_TIMEOUT=30